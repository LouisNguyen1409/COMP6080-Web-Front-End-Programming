<!DOCTYPE html>
<html>
    <head>
        <title>My Form</title>
    </head>
    <body>
        <form action="" method="get">
            <label for="firstName">First Name: </label
            ><input type="text" name="firstName" id="firstName" />
            <label for="email">Email: </label
            ><input type="text" name="email" id="email" />
            <input
                disabled="disabled"
                id="submit"
                type="submit"
                value="Submit"
            />
        </form>
        <script type="text/javascript">
            function isValidFirstName() {
                // Define a regular expression pattern for valid first names
                const name = document.getElementById("firstName").value;
                const namePattern = /^[a-zA-Z]{2,20}$/;
                return namePattern.test(name);
            }

            function isValidEmail() {
                const email = document.getElementById("email").value;
                const emailPattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
                return emailPattern.test(email);
            }

            function checkSubmit() {
                document.getElementById("submit").disabled = true;
                if (nameValid() && emailValid()) {
                    document.getElementById("submit").disabled = false;
                }
            }

            document.getElementById("firstName").addEventListener("keyup", e => {
                checkSubmit();
            });
            document.getElementById('firstName').addEventListener('blur', () => {
                if (!isValidFirstName()) {
                    document.getElementById('firstName').style.background = 'red';
                }
            });
            document.getElementById('firstName').addEventListener('focus', () => {
                document.getElementById('firstName').style.background = 'none';
            });
            document.getElementById('email').addEventListener('keyup', checkSubmit);
            document.getElementById('email').addEventListener('blur', () => {
                if (!isValidEmail()) {
                    document.getElementById('email').style.background = 'red';
                }
            });
            document.getElementById('email').addEventListener('focus', () => {
                document.getElementById('email').style.background = 'none';
            });
        </script>
    </body>
</html>
